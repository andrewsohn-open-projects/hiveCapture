<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
<title>LAYOUT :: 싱가포르항공</title> <!-- [D] 페이지 마다 title 텍스트 변경됨 // 공통규칙 -->
<link rel="stylesheet" type="text/css" href="../../css/singapore.css">
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
<input type="hidden" name="insta_token" value="2284411000.1fb234f.4d6ee4e48dff4f4588154a4fe2aa24db" style="display:none">

<!-- [D] Grid Gallery 요소 -->
<div id="_grid_gallery"></div>
<!-- // [D] Grid Gallery 요소 -->

<!-- [D] Grid Gallery 더보기 요소 -->
<a href="#" id="_grid_more" class="btn_wide type2"><div class="in">더 보기 <span class="sp ico_plus"></span></div></a>
<!-- // [D] Grid Gallery 더보기 요소 -->

<!-- [D] Grid Gallery 템플릿 -->
<script type="text/template" id="_grid_template">
<% if(list.length <= 0 ){ %>
<div class="err_bx type2">
	<strong class="err_st">No Result</strong>
	<p class="err_txt">인스타그램 해시태그 검색 결과가 없습니다.</p>
</div>
<% } else { %>
<ul class="insta_lst" data-page="<%- page %>">
<% _.each( list, function( item, index ){ %>
    <li class="<%- 'sq_b' + (index+1) %>" data-item-index="<%- index %>">
        <% if ( item.image.url ){ %>
        	<a href="<%- item.link %>" target="_blank" class="in_box">
        		<img src="<%- item.image.url %>" alt="<%- item.alt %>">
		        <% if ( item.type === 'video' ){ %>
		        	<span class="grid_icon_video">영상재생 아이콘</span>
		        <% }%>
        	</a>
        <% } else { %>        	
            <span>이미지 없음</span>
        <% } %>
    </li>
<% }); %>
</ul>
<% } %>
</script>
<!-- // [D] Grid Gallery 템플릿 -->

<!-- [D] Grid Gallery error 템플릿 -->
<script type="text/template" id="_grid_error_template">
<div class="err_bx type2">
	<strong class="err_st">ERROR</strong>
	<p class="err_txt">지금은 일시적으로 인스타그램 연동에 장애가 있습니다.<br>잠시 후 다시 시도해주세요.</p>
</div>
</script>
<!-- // [D] Grid Gallery error 템플릿 -->

<script src="../singapore.common.js"></script>
<script src="../singapore.js"></script>

<script>
// tagname = 싱가포르
// mediaUrl : https://api.instagram.com/v1/tags/싱가포르/media/recent
// totalUrl : https://api.instagram.com/v1/tags/싱가포르

	$(function() { 
		var hashTag = '싱가포르';		
		var accessToken = $('input[name=insta_token]').val();
		
	    singapore.ui.GridGallery.init({
	    	id: '_grid_gallery',
	    	moreButtonId: '_grid_more', 
	    	mediaUrl: 'https://api.instagram.com/v1/tags/' + hashTag + '/media/recent?access_token=' + accessToken,	   
	    	totalUrl: 'https://api.instagram.com/v1/tags/' + hashTag + '?access_token=' + accessToken,	
	    	count: 9, 
	    	template: $('#_grid_template').html(),
	    	errorTemplate: $('#_grid_error_template').html(),
	    	adjustRemainder: true		    	
	    });
	});
</script>
</body>
</html>